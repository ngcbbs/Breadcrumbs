# 데모 시나리오 및 테스트 계획

## 개요

이 문서는 던전 크롤러 포트폴리오 프로젝트의 데모 시나리오와 테스트 계획을 설명합니다. 이 계획은 프로젝트의 핵심 기능을 효과적으로 시연하고, 개발 과정에서 품질을 보장하기 위한 테스트 전략을 정의합니다.

## 데모 시나리오

### 데모 콘셉트: "어둠의 시험"

*어둠의 시험은 고대 던전의 위험한 깊은 곳으로 모험가들을 부르는 시련입니다. 플레이어는 던전을 탐험하며 몬스터와 싸우고, 보물을 찾으며, 마지막 포털을 통해 안전하게 탈출해야 합니다.*

### 데모 흐름

1. **로비 및 입장**
   - 게임 로고 및 시작 화면
   - 단일 플레이어 또는 멀티플레이어 선택
   - 기본 캐릭터 선택 및 입장

2. **던전 생성 및 탐험**
   - 프로시저럴 생성된 던전 로딩
   - 초기 위치에서 시작 (입구 방)
   - 미니맵에 탐험 영역 표시
   - 환경 상호작용 (문 열기, 상자 조사)

3. **전투 시연**
   - 기본 몬스터와의 전투
   - 공격, 방어, 회피 액션 시연
   - 전투 피드백 효과 (데미지 숫자, 타격 효과)
   - 몬스터 처치 및 전리품 획득

4. **아이템 및 인벤토리**
   - 획득한 아이템 확인
   - 인벤토리 관리 및 아이템 장착
   - 소비 아이템 사용 시연
   - 아이템 정보 및 비교 기능

5. **특수 요소 발견**
   - 함정 발견 및 처리
   - 특수 보물 상자 발견
   - 희귀 아이템 획득
   - 비밀 방 탐색

6. **탈출 포털 활성화**
   - 시간 경과에 따른 포털 활성화 알림
   - 포털 위치 미니맵 표시
   - 포털로 이동 및 최종 장애물 극복
   - 성공적인 탈출 및 결과 화면

### 멀티플레이어 데모 시나리오 확장 (선택적)

1. **멀티플레이어 세션 생성**
   - 방 생성 및 참가 인터페이스
   - 플레이어 연결 및 동기화
   - 준비 상태 및 게임 시작

2. **협동 플레이**
   - 팀원 위치 미니맵 표시
   - 협동 전투 시스템
   - 팀 커뮤니케이션 도구 (핑, 이모트)
   - 전리품 공유 및 분배

3. **PvP 요소**
   - 선택적 플레이어 간 전투
   - PvP 밸런싱 및 메커니즘
   - 경쟁 및 협력의 긴장감

### 데모 기술 시연 항목

데모는 다음 핵심 기술 구현을 시연합니다:

1. **프로시저럴 던전 생성**
   - 다양한 방 및 복도 레이아웃
   - 방 연결 알고리즘 결과
   - 몬스터 및 보물 배치 로직

2. **MagicOnion 네트워크 구현**
   - 실시간 위치 및 액션 동기화
   - 게임 상태 일관성
   - 플레이어 연결 및 세션 관리

3. **게임플레이 시스템**
   - 응답성 높은 캐릭터 컨트롤
   - 전투 시스템 깊이
   - 아이템 및 인벤토리 기능

4. **UI/UX 시스템**
   - 직관적인 사용자 인터페이스
   - 시각적 피드백 및 명확성
   - 정보 전달의 효율성

## 테스트 계획

### 단위 테스트

#### 던전 생성 테스트
- **방 생성 유효성**: 모든 방이 유효한 크기와 위치를 가지는지 검증
- **연결성 테스트**: 모든 방이 접근 가능한지 확인
- **오브젝트 배치**: 몬스터와 보물이 적절히 배치되는지 테스트

```csharp
[Test]
public void DungeonGeneration_AllRoomsAreConnected()
{
    // 테스트 코드...
    DungeonGenerator generator = new DungeonGenerator();
    Dungeon dungeon = generator.GenerateDungeon(seed: 12345);
    
    // 모든 방이 연결되어 있는지 확인
    bool allConnected = DungeonUtility.CheckAllRoomsReachable(dungeon);
    Assert.IsTrue(allConnected, "모든 방이 연결되어 있어야 함");
}
```

#### 전투 시스템 테스트
- **데미지 계산**: 다양한 공격 유형의 데미지 계산 정확성
- **히트박스 충돌**: 공격 충돌 감지 정확성
- **상태 효과**: 상태 효과 적용 및 지속 시간 검증

#### 네트워크 테스트
- **직렬화/역직렬화**: 메시지 변환 정확성 검증
- **지연 시뮬레이션**: 다양한 네트워크 조건에서의 동작 테스트
- **예외 처리**: 연결 끊김 및 오류 상황 처리 검증

### 통합 테스트

#### 시스템 간 통합
- **게임플레이-UI 통합**: 게임 상태 변화가 UI에 올바르게 반영되는지 검증
- **네트워크-게임플레이 통합**: 네트워크 이벤트가 게임 상태를 올바르게 변경하는지 테스트
- **던전-AI 통합**: 생성된 던전에서 AI가 올바르게 작동하는지 확인

#### 엔드투엔드 시나리오
- **전체 게임 루프**: 입장부터 탈출까지 전체 흐름 테스트
- **다양한 플레이 스타일**: 공격적/방어적 플레이 테스트
- **엣지 케이스**: 극단적 상황에서의 동작 검증

### 성능 테스트

#### 프레임 레이트 분석
- **다양한 구성**: 다양한 하드웨어 스펙에서 성능 테스트
- **스트레스 테스트**: 많은 객체와 효과 있는 상황 테스트
- **메모리 사용**: 장시간 플레이 시 메모리 누수 확인

```csharp
// 성능 테스트를 위한 프로파일링 코드
public class PerformanceTestUtility : MonoBehaviour
{
    private float[] frameTimes = new float[100];
    private int frameIndex = 0;
    
    private void Update()
    {
        // 프레임 시간 기록
        frameTimes[frameIndex] = Time.deltaTime;
        frameIndex = (frameIndex + 1) % frameTimes.Length;
        
        // 100프레임마다 평균 계산
        if (frameIndex == 0)
        {
            float averageFrameTime = CalculateAverageFrameTime();
            Debug.Log($"Average Frame Time: {averageFrameTime * 1000f}ms, FPS: {1f / averageFrameTime}");
        }
    }
    
    private float CalculateAverageFrameTime()
    {
        float sum = 0f;
        foreach (float time in frameTimes)
        {
            sum += time;
        }
        return sum / frameTimes.Length;
    }
}
```

#### 네트워크 성능
- **대역폭 사용**: 데이터 전송량 측정 및 최적화
- **동시 접속**: 여러 클라이언트 연결 시 서버 성능
- **지연 시간**: 다양한 지연 조건에서 플레이 경험 평가

### 사용자 테스트

#### 내부 플레이테스트
- **직관성 평가**: UI 및 컨트롤 직관성 평가
- **재미 요소**: 핵심 게임 루프의 재미 평가
- **난이도 밸런스**: 적절한 도전성 평가

#### 피드백 수집 및 분석
- **문제점 기록**: 발견된 버그 및 개선점 기록
- **플레이어 행동 관찰**: 플레이 패턴 및 어려움 관찰
- **정성적 피드백**: 인터뷰 및 설문을 통한 피드백 수집

## 데모 환경 설정

### 개발 빌드 준비
- **디버그 도구**: 개발자 모드 및 디버그 정보 표시
- **치트 코드**: 빠른 테스트를 위한 특수 명령
- **시나리오 스크립트**: 자동화된 데모 흐름

### 데모 환경 요구사항
- **하드웨어**: 권장 사양 및 최소 사양 정의
- **네트워크**: 멀티플레이어 데모를 위한 네트워크 요구사항
- **수동/자동**: 라이브 데모 또는 녹화된 데모 계획

## 포트폴리오 문서화

### 시연 동영상 계획
- **소개 및 개요**: 프로젝트 소개 및 기술 개요
- **주요 기능 시연**: 핵심 기능 및 시스템 시연
- **기술적 하이라이트**: 중요 기술 구현 설명
- **개발 과정**: 개발 과정 및 문제 해결 사례

### 기술 문서화
- **아키텍처 다이어그램**: 시스템 구조 및 데이터 흐름
- **핵심 알고리즘**: 주요 알고리즘 및 코드 설명
- **기술적 도전**: 직면한 문제와 해결책
- **확장 가능성**: 향후 개발 방향 및 확장 계획

## 데모 데이 체크리스트

### 사전 준비
- [ ] 최신 빌드 준비 및 테스트
- [ ] 멀티플레이어 서버 설정 확인
- [ ] 데모 스크립트 및 시나리오 점검
- [ ] 백업 계획 준비

### 데모 진행
- [ ] 소개 및 콘텍스트 설명
- [ ] 핵심 기능 시연 (단일 플레이어)
- [ ] 멀티플레이어 기능 시연 (가능한 경우)
- [ ] Q&A 및 추가 세부 사항 시연

### 사후 분석
- [ ] 피드백 수집 및 정리
- [ ] 개선점 및 향후 개발 방향 식별
- [ ] 포트폴리오 자료 업데이트

## 주간 테스트 일정

### 1주차: 기본 시스템 테스트
- 기본 던전 생성 알고리즘 테스트
- 캐릭터 컨트롤러 및 카메라 시스템 테스트
- 기초 UI 요소 사용성 테스트

### 2주차: 게임플레이 테스트
- 전투 시스템 및 충돌 감지 테스트
- 아이템 및 인벤토리 기능 테스트
- AI 동작 및 경로 찾기 테스트

### 3주차: 네트워크 테스트
- 기본 동기화 및 메시지 처리 테스트
- 지연 및 패킷 손실 조건 테스트
- 멀티플레이어 상호작용 테스트

### 4주차: 통합 및 최종 테스트
- 전체 게임 루프 엔드투엔드 테스트
- 성능 및 최적화 테스트
- 데모 시나리오 리허설 및 최종 조정

## 예상 위험 및 대비책

### 기술적 위험
- **위험**: MagicOnion 통합 문제
- **대비책**: 초기 단계에서 기본 통신 테스트, 대체 솔루션 준비

### 성능 위험
- **위험**: 복잡한 던전에서의 성능 저하
- **대비책**: 최적화 우선순위 설정, LOD 및 오브젝트 풀링 구현

### 일정 위험
- **위험**: 핵심 기능 구현 지연
- **대비책**: 우선순위 명확화, 최소 기능 제품(MVP) 접근 방식

## 결론

이 데모 시나리오와 테스트 계획은 1개월 간의 포트폴리오 프로젝트 개발을 위한 가이드라인을 제공합니다. 계획된 접근 방식을 통해 프로젝트의 핵심 기술 요소를 효과적으로 구현하고 시연할 수 있을 것입니다. 지속적인 테스트와 피드백을 통해 품질을 보장하고, 기술적 역량을 최대한 입증할 수 있는 결과물을 목표로 합니다.

[메인 계획으로 돌아가기](./MasterPlan.md)
