# 게임플레이 시스템

## 던전 생성 시스템

### 프로시저럴 맵 생성
- **알고리즘**: 타일 기반 또는 룸 기반 프로시저럴 생성 알고리즘을 사용하여 매번 다른 던전 레이아웃 생성
- **구현 방법**:
  - **타일 기반**: 격자 위에 타일을 배치하여 경로, 방, 복도 등을 생성
  - **룸 기반**: 먼저 방을 생성한 후 복도로 연결하는 방식
  - **BSP(Binary Space Partitioning)**: 공간을 분할하여 방을 배치하는 방식

### 환경 다양성
- **테마별 던전**: 묘지, 성, 동굴, 지하 도시 등 다양한 테마의 던전 제공
- **환경 요소**: 물, 불, 함정, 장애물 등 다양한 환경 요소 배치
- **시각적 다양성**: 각 테마별로 고유한 텍스처, 조명, 파티클 효과 적용

### 랜덤 요소
- **함정 배치**: 다양한 종류의 함정을 랜덤하게 배치 (화살 함정, 낙하 함정, 독 함정 등)
- **보물 상자**: 희귀도와 보상이 다양한 보물 상자를 랜덤하게 배치
- **몬스터 스폰**: 던전 구역에 따라 다양한 종류와 난이도의 몬스터 스폰 포인트 설정

### 던전 밸런싱
- **난이도 조절**: 플레이어 수와 평균 레벨에 따라 던전 난이도 동적 조절
- **자원 분배**: 전리품, 회복 아이템, 특수 자원 등의 균형 있는 분배
- **탐험 시간**: 던전 크기와 복잡성에 따른 최적의 탐험 시간 설정

## 전투 시스템

### 실시간 전투
- **근접 전투**: 타이밍 기반 공격, 방어, 회피 시스템
- **원거리 전투**: 조준, 탄약, 투사체 물리 시스템
- **스킬 기반 전투**: 각 클래스별 고유한 전투 스킬 및 기술

### 히트박스 및 충돌 감지
- **정밀한 히트박스**: 신체 부위별 히트박스 설정으로 정확한 타격 판정
- **무기별 타격 범위**: 무기 종류에 따른 공격 범위 및 판정 구현
- **물리 기반 충돌**: 무기와 방어구 간의 물리적 상호작용 시뮬레이션

### PvP 및 PvE 균형
- **데미지 시스템**: PvP와 PvE 간의 데미지 계산 공식 차별화
- **피드백 시스템**: 명확한 타격 피드백 (화면 효과, 사운드, 진동 등)
- **상태 이상**: 출혈, 중독, 기절 등 다양한 상태 이상 효과

### 클래스별 전투 스타일
- **전사**: 근접 전투 특화, 높은 방어력, 돌진 및 군중 제어 능력
- **마법사**: 원거리 마법 공격, AOE(Area of Effect) 스킬, 낮은 방어력
- **로그**: 은신, 급소 공격, 함정 설치, 높은 회피율
- **궁수**: 원거리 물리 공격, 정확한 조준, 유틸리티 화살

## 루팅 및 인벤토리 시스템

### 아이템 드롭 시스템
- **희귀도 등급**: 일반, 고급, 희귀, 전설, 고대 등 다양한 희귀도의 아이템
- **아이템 종류**: 무기, 방어구, 소비 아이템, 재료, 기타 유틸리티 아이템
- **드롭 테이블**: 몬스터 및 보물 상자별 드롭 확률 테이블

### 인벤토리 관리
- **그리드 기반 인벤토리**: 아이템 크기에 따른 격자 공간 차지
- **제한된 슬롯**: 캐릭터 스탯이나 특수 아이템으로 확장 가능한 제한된 슬롯
- **빠른 액세스**: 자주 사용하는 아이템을 위한 단축키 및 빠른 액세스 슬롯

### 아이템 특성
- **스탯 시스템**: 아이템에 부여되는 다양한 스탯 및 속성
- **세트 효과**: 특정 세트 아이템 착용 시 추가 효과 발동
- **내구도**: 아이템 사용에 따른 내구도 감소 및 수리 시스템

### 거래 시스템
- **던전 내 거래**: 던전 탐험 중 플레이어 간 아이템 교환
- **안전 거래**: 사기 방지를 위한 안전한 거래 UI
- **거래 로그**: 모든 거래에 대한 기록 유지

## 탈출 메커니즘

### 포털 시스템
- **시간 제한**: 던전 입장 후 일정 시간이 지나면 탈출 포털 활성화
- **포털 위치**: 던전 내 랜덤 위치에 포털 생성
- **시각적 신호**: 포털 활성화 시 시각적/청각적 신호 제공

### 경쟁 요소
- **제한된 사용 시간**: 포털은 일정 시간 동안만 활성화되어 긴장감 조성
- **포털 주변 전투**: 포털 주변 영역에서 PvP 전투 증가
- **최종 보스**: 일부 던전에서는 포털 사용 전 최종 보스 처치 필요

### 탈출 보상
- **생존 보너스**: 성공적인 탈출 시 추가 경험치 및 자원 획득
- **연속 탈출**: 연속으로 탈출 성공 시 추가 보상 증가
- **팀 탈출**: 파티원 모두 탈출 시 추가 보상 제공

## 캐릭터 시스템

### 클래스 선택
- **기본 클래스**: 전사, 마법사, 로그, 궁수 등 다양한 기본 클래스
- **전문화**: 레벨 업 시 세부 전문화 선택 가능
- **클래스 밸런싱**: 각 클래스별 강점과 약점 균형 조정

### 스탯 시스템
- **기본 스탯**: 체력, 마나, 힘, 민첩성, 지능 등 기본 능력치
- **파생 스탯**: 공격력, 방어력, 치명타 확률, 회피율 등 파생 능력치
- **스탯 할당**: 레벨업 시 스탯 포인트 할당 또는 자동 증가 시스템

### 스킬 시스템
- **스킬 트리**: 클래스별 고유한 스킬 트리 구현
- **스킬 포인트**: 레벨업 시 획득하는 스킬 포인트로 스킬 해금 및 강화
- **패시브 스킬**: 지속적인 효과를 제공하는 패시브 스킬
- **액티브 스킬**: 사용 시 특정 효과를 발동하는 액티브 스킬

### 성장 시스템
- **경험치**: 몬스터 처치, 던전 탐험, 보물 발견 등으로 경험치 획득
- **레벨링**: 일정 경험치 달성 시 레벨업 및 능력치 향상
- **명성**: 게임 내 업적 및 활동에 따른 명성 시스템

[목차로 돌아가기](./MasterPlan.md)
